
function cm = ember(n, opt_interp)
% Colormap: ember
% Source:   CMasher
% Authors:	Ellert van der Velden

%-- Parse inputs ---------------------------------------------------------%
if ~exist('n', 'var'); n = []; end
if isempty(n)
   f = get(groot,'CurrentFigure');
   if isempty(f)
      n = size(get(groot,'DefaultFigureColormap'),1);
   else
      n = size(f.Colormap,1);
   end
end

% by default, interpolate in rgb space
if ~exist('opt_interp','var'); opt_interp = []; end
if isempty(opt_interp); opt_interp = 'rgb'; end
%-------------------------------------------------------------------------%


% data for colormap
cm = [
    0.000000	0.000000	0.000000
    0.000173	0.000195	0.000257
    0.000592	0.000677	0.000930
    0.001212	0.001402	0.002007
    0.002016	0.002348	0.003499
    0.003000	0.003499	0.005420
    0.004163	0.004841	0.007787
    0.005512	0.006361	0.010619
    0.007061	0.008046	0.013932
    0.008825	0.009883	0.017741
    0.010826	0.011858	0.022057
    0.013090	0.013957	0.026886
    0.015645	0.016166	0.032227
    0.018519	0.018471	0.038073
    0.021744	0.020861	0.044238
    0.025348	0.023325	0.050318
    0.029359	0.025851	0.056300
    0.033801	0.028433	0.062179
    0.038695	0.031063	0.067949
    0.043914	0.033735	0.073609
    0.049196	0.036443	0.079158
    0.054540	0.039184	0.084596
    0.059940	0.041911	0.089926
    0.065390	0.044547	0.095152
    0.070886	0.047107	0.100277
    0.076422	0.049592	0.105303
    0.081996	0.052007	0.110234
    0.087605	0.054354	0.115074
    0.093247	0.056635	0.119826
    0.098920	0.058852	0.124492
    0.104622	0.061007	0.129074
    0.110353	0.063101	0.133576
    0.116110	0.065136	0.137998
    0.121894	0.067112	0.142343
    0.127703	0.069032	0.146612
    0.133538	0.070895	0.150807
    0.139397	0.072702	0.154929
    0.145280	0.074455	0.158979
    0.151186	0.076154	0.162958
    0.157115	0.077799	0.166866
    0.163068	0.079392	0.170704
    0.169043	0.080932	0.174473
    0.175040	0.082419	0.178174
    0.181059	0.083856	0.181806
    0.187100	0.085240	0.185371
    0.193162	0.086574	0.188867
    0.199246	0.087856	0.192297
    0.205351	0.089088	0.195659
    0.211476	0.090269	0.198954
    0.217622	0.091400	0.202182
    0.223788	0.092480	0.205343
    0.229975	0.093509	0.208437
    0.236181	0.094489	0.211464
    0.242407	0.095417	0.214423
    0.248653	0.096296	0.217316
    0.254918	0.097123	0.220141
    0.261202	0.097900	0.222898
    0.267506	0.098626	0.225588
    0.273828	0.099300	0.228209
    0.280168	0.099923	0.230762
    0.286527	0.100495	0.233247
    0.292904	0.101014	0.235662
    0.299299	0.101482	0.238008
    0.305712	0.101896	0.240285
    0.312142	0.102258	0.242491
    0.318589	0.102566	0.244627
    0.325054	0.102820	0.246692
    0.331535	0.103020	0.248686
    0.338033	0.103165	0.250607
    0.344547	0.103255	0.252456
    0.351077	0.103288	0.254232
    0.357623	0.103266	0.255935
    0.364184	0.103186	0.257563
    0.370760	0.103048	0.259117
    0.377351	0.102852	0.260594
    0.383957	0.102597	0.261996
    0.390576	0.102282	0.263321
    0.397209	0.101906	0.264568
    0.403856	0.101469	0.265737
    0.410516	0.100971	0.266827
    0.417188	0.100409	0.267836
    0.423872	0.099784	0.268765
    0.430567	0.099094	0.269613
    0.437274	0.098339	0.270378
    0.443991	0.097518	0.271059
    0.450718	0.096630	0.271656
    0.457454	0.095674	0.272168
    0.464199	0.094650	0.272594
    0.470952	0.093557	0.272932
    0.477712	0.092394	0.273183
    0.484479	0.091160	0.273344
    0.491251	0.089855	0.273414
    0.498028	0.088478	0.273394
    0.504809	0.087029	0.273280
    0.511593	0.085508	0.273074
    0.518379	0.083915	0.272772
    0.525166	0.082249	0.272375
    0.531953	0.080512	0.271881
    0.538737	0.078704	0.271289
    0.545519	0.076827	0.270598
    0.552297	0.074881	0.269806
    0.559068	0.072870	0.268913
    0.565833	0.070796	0.267918
    0.572588	0.068664	0.266819
    0.579332	0.066477	0.265616
    0.586063	0.064244	0.264308
    0.592780	0.061970	0.262893
    0.599479	0.059667	0.261372
    0.606159	0.057345	0.259742
    0.612818	0.055019	0.258005
    0.619451	0.052706	0.256159
    0.626058	0.050427	0.254203
    0.632635	0.048208	0.252139
    0.639179	0.046077	0.249965
    0.645686	0.044067	0.247684
    0.652154	0.042219	0.245294
    0.658579	0.040575	0.242797
    0.664957	0.039175	0.240194
    0.671284	0.038099	0.237487
    0.677557	0.037385	0.234677
    0.683771	0.037071	0.231769
    0.689923	0.037196	0.228763
    0.696009	0.037799	0.225664
    0.702023	0.038923	0.222475
    0.707963	0.040605	0.219201
    0.713823	0.042815	0.215847
    0.719601	0.045551	0.212417
    0.725292	0.048791	0.208919
    0.730893	0.052504	0.205357
    0.736401	0.056656	0.201739
    0.741813	0.061208	0.198071
    0.747127	0.066120	0.194361
    0.752339	0.071352	0.190614
    0.757450	0.076868	0.186839
    0.762457	0.082631	0.183042
    0.767360	0.088611	0.179230
    0.772158	0.094777	0.175409
    0.776852	0.101103	0.171585
    0.781443	0.107565	0.167764
    0.785931	0.114141	0.163951
    0.790317	0.120813	0.160149
    0.794605	0.127563	0.156364
    0.798794	0.134378	0.152598
    0.802888	0.141243	0.148854
    0.806889	0.148148	0.145134
    0.810800	0.155083	0.141439
    0.814622	0.162039	0.137772
    0.818358	0.169008	0.134132
    0.822012	0.175986	0.130519
    0.825585	0.182965	0.126934
    0.829080	0.189941	0.123375
    0.832500	0.196911	0.119843
    0.835847	0.203872	0.116336
    0.839123	0.210820	0.112853
    0.842330	0.217755	0.109392
    0.845472	0.224673	0.105952
    0.848549	0.231573	0.102531
    0.851565	0.238455	0.099128
    0.854519	0.245319	0.095740
    0.857416	0.252162	0.092365
    0.860255	0.258986	0.089002
    0.863039	0.265789	0.085649
    0.865769	0.272573	0.082303
    0.868447	0.279337	0.078963
    0.871073	0.286081	0.075626
    0.873650	0.292806	0.072291
    0.876177	0.299512	0.068957
    0.878657	0.306199	0.065620
    0.881090	0.312869	0.062279
    0.883478	0.319521	0.058934
    0.885820	0.326157	0.055580
    0.888118	0.332776	0.052219
    0.890373	0.339380	0.048848
    0.892585	0.345969	0.045466
    0.894755	0.352544	0.042070
    0.896884	0.359105	0.038657
    0.898971	0.365654	0.035355
    0.901018	0.372190	0.032211
    0.903026	0.378714	0.029227
    0.904993	0.385228	0.026401
    0.906922	0.391731	0.023734
    0.908811	0.398225	0.021226
    0.910662	0.404709	0.018879
    0.912476	0.411184	0.016695
    0.914251	0.417652	0.014674
    0.915988	0.424113	0.012817
    0.917688	0.430567	0.011129
    0.919351	0.437014	0.009609
    0.920977	0.443456	0.008262
    0.922566	0.449893	0.007090
    0.924118	0.456325	0.006096
    0.925633	0.462753	0.005284
    0.927112	0.469177	0.004656
    0.928554	0.475598	0.004216
    0.929960	0.482017	0.003969
    0.931329	0.488433	0.003919
    0.932663	0.494848	0.004071
    0.933959	0.501261	0.004428
    0.935220	0.507673	0.004995
    0.936444	0.514084	0.005778
    0.937631	0.520496	0.006782
    0.938783	0.526907	0.008012
    0.939898	0.533319	0.009474
    0.940976	0.539732	0.011173
    0.942018	0.546147	0.013116
    0.943024	0.552562	0.015309
    0.943992	0.558980	0.017758
    0.944924	0.565401	0.020469
    0.945819	0.571823	0.023450
    0.946677	0.578249	0.026707
    0.947499	0.584677	0.030248
    0.948283	0.591109	0.034078
    0.949030	0.597545	0.038206
    0.949740	0.603985	0.042570
    0.950413	0.610429	0.046956
    0.951048	0.616877	0.051364
    0.951645	0.623331	0.055792
    0.952205	0.629788	0.060241
    0.952726	0.636252	0.064707
    0.953210	0.642720	0.069193
    0.953655	0.649194	0.073695
    0.954063	0.655674	0.078216
    0.954431	0.662160	0.082754
    0.954762	0.668652	0.087309
    0.955053	0.675151	0.091881
    0.955305	0.681656	0.096471
    0.955519	0.688168	0.101077
    0.955692	0.694688	0.105701
    0.955827	0.701214	0.110342
    0.955922	0.707747	0.115000
    0.955976	0.714289	0.119675
    0.955991	0.720838	0.124368
    0.955965	0.727395	0.129077
    0.955899	0.733960	0.133803
    0.955792	0.740534	0.138547
    0.955643	0.747116	0.143307
    0.955453	0.753707	0.148084
    0.955221	0.760307	0.152879
    0.954947	0.766916	0.157690
    0.954630	0.773535	0.162518
    0.954271	0.780163	0.167362
    0.953868	0.786801	0.172223
    0.953421	0.793449	0.177101
    0.952931	0.800107	0.181995
    0.952396	0.806776	0.186905
    0.951816	0.813456	0.191831
    0.951189	0.820146	0.196773
    0.950517	0.826848	0.201732
    0.949798	0.833561	0.206706
    0.949032	0.840286	0.211695
    0.948217	0.847023	0.216701
    0.947354	0.853772	0.221722
    0.946441	0.860534	0.226758
    0.945477	0.867309	0.231809
    0.944463	0.874096	0.236876
    0.943395	0.880898	0.241958
   ];


%-- Modify the colormap by interpolation ---------------------------------%
%   Note: Interpolation can be done in hsv or rgb space depending on opt_interp.
p = size(cm,1); % default size of colormap
if strcmp(opt_interp,'hsv')
    hsv = rgb2hsv(cm);
    hsv = interp1(1:p, hsv, linspace(1,p,n), 'linear');
    cm = hsv2rgb(hsv);
else
    cm = interp1(1:p, cm, linspace(1,p,n), 'linear');
end


end
