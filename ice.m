
function cm = ice(n, opt_interp)
% Colormap: ice

%-- Parse inputs ---------------------------------------------------------%
if ~exist('n', 'var'); n = []; end
if isempty(n)
   f = get(groot,'CurrentFigure');
   if isempty(f)
      n = size(get(groot,'DefaultFigureColormap'),1);
   else
      n = size(f.Colormap,1);
   end
end

% by default, interpolate in rgb space
if ~exist('opt_interp','var'); opt_interp = []; end
if isempty(opt_interp); opt_interp = 'rgb'; end
%-------------------------------------------------------------------------%

% Data for colormap:
cm = [
  	0.015312	0.022521	0.072729
  	0.018005	0.025446	0.078419
  	0.020901	0.028527	0.084078
  	0.023998	0.031763	0.089708
  	0.027298	0.035149	0.095326
  	0.030804	0.038677	0.100966
  	0.03451	0.0423	0.106583
  	0.038414	0.045874	0.112178
  	0.042458	0.0494	0.117796
  	0.046458	0.052885	0.123418
  	0.050416	0.056338	0.129022
  	0.054338	0.059757	0.134624
  	0.05823	0.063136	0.140265
  	0.062086	0.066489	0.145892
  	0.065909	0.069818	0.151506
  	0.069707	0.073109	0.15717
  	0.073474	0.076378	0.162831
  	0.07721	0.079628	0.16848
  	0.080922	0.082849	0.17417
  	0.084607	0.086047	0.179873
  	0.088264	0.089231	0.185565
  	0.091897	0.09239	0.191295
  	0.095506	0.095529	0.197047
  	0.099088	0.098657	0.202789
  	0.102646	0.101763	0.208573
  	0.106181	0.104853	0.214377
  	0.109689	0.107935	0.220172
  	0.113175	0.110995	0.226024
  	0.116636	0.114045	0.231884
  	0.120071	0.117088	0.237737
  	0.123483	0.12011	0.243664
  	0.126869	0.123127	0.249581
  	0.130231	0.126135	0.255522
  	0.133567	0.129129	0.261506
  	0.136877	0.132123	0.267479
  	0.140161	0.135101	0.273516
  	0.143418	0.138076	0.279556
  	0.146647	0.141047	0.285618
  	0.149849	0.144008	0.291725
  	0.153023	0.146973	0.297817
  	0.156166	0.149924	0.303988
  	0.15928	0.15288	0.310144
  	0.162363	0.155829	0.316351
  	0.165414	0.15878	0.322568
  	0.168433	0.161729	0.328815
  	0.171417	0.164679	0.33509
  	0.174368	0.167632	0.34138
  	0.177282	0.170585	0.347709
  	0.18016	0.173544	0.354045
  	0.182998	0.176503	0.360423
  	0.185799	0.179472	0.366806
  	0.188557	0.182443	0.373228
  	0.191275	0.185424	0.379658
  	0.193947	0.188412	0.386116
  	0.196575	0.191409	0.392592
  	0.199157	0.194419	0.399079
  	0.201687	0.197437	0.405598
  	0.204173	0.200472	0.412103
  	0.206599	0.203516	0.418661
  	0.208977	0.206579	0.425203
  	0.211297	0.209658	0.431765
  	0.213558	0.212753	0.438337
  	0.215765	0.215871	0.444895
  	0.217903	0.219006	0.451482
  	0.21998	0.222164	0.458057
  	0.221997	0.225347	0.464613
  	0.223936	0.228553	0.47119
  	0.225809	0.231786	0.477745
  	0.227615	0.235047	0.484275
  	0.229341	0.238338	0.4908
  	0.230991	0.241658	0.497304
  	0.232565	0.245012	0.503773
  	0.234063	0.248399	0.510206
  	0.235474	0.251821	0.516613
  	0.236801	0.255279	0.522979
  	0.238046	0.258774	0.529293
  	0.239207	0.262309	0.535552
  	0.240283	0.265882	0.54175
  	0.241269	0.269497	0.547887
  	0.242165	0.273154	0.553957
  	0.242974	0.276852	0.559948
  	0.243696	0.280593	0.565855
  	0.244333	0.284378	0.571672
  	0.244885	0.288205	0.577394
  	0.245353	0.292075	0.583015
  	0.24574	0.295988	0.58853
  	0.246048	0.299943	0.593933
  	0.246281	0.30394	0.599218
  	0.246442	0.307977	0.604383
  	0.246535	0.312054	0.609422
  	0.246565	0.316169	0.614332
  	0.246538	0.32032	0.619109
  	0.24646	0.324505	0.623752
  	0.246336	0.328723	0.628259
  	0.246173	0.332971	0.632628
  	0.245977	0.337248	0.63686
  	0.245757	0.34155	0.640953
  	0.245519	0.345876	0.64491
  	0.24527	0.350222	0.648731
  	0.245018	0.354588	0.652419
  	0.24477	0.358969	0.655976
  	0.244533	0.363365	0.659406
  	0.244314	0.367772	0.662711
  	0.24412	0.372189	0.665896
  	0.243958	0.376613	0.668965
  	0.243833	0.381042	0.671922
  	0.243753	0.385475	0.674771
  	0.243722	0.38991	0.677518
  	0.243745	0.394345	0.680167
  	0.243828	0.398779	0.682723
  	0.243974	0.40321	0.685191
  	0.244187	0.407637	0.687575
  	0.244472	0.41206	0.689881
  	0.244831	0.416478	0.692113
  	0.245266	0.420889	0.694276
  	0.245781	0.425293	0.696373
  	0.246376	0.429689	0.698409
  	0.247054	0.434078	0.700389
  	0.247815	0.438458	0.702316
  	0.248661	0.442829	0.704194
  	0.249593	0.447191	0.706027
  	0.250609	0.451544	0.707817
  	0.251711	0.455888	0.709569
  	0.252899	0.460223	0.711285
  	0.254171	0.464548	0.712969
  	0.255527	0.468865	0.714622
  	0.256967	0.473172	0.716249
  	0.258489	0.477471	0.71785
  	0.260092	0.48176	0.719429
  	0.261776	0.486042	0.720987
  	0.263538	0.490315	0.722528
  	0.265377	0.494579	0.724052
  	0.267292	0.498837	0.725561
  	0.269281	0.503086	0.727058
  	0.271343	0.507328	0.728544
  	0.273476	0.511564	0.73002
  	0.275678	0.515792	0.731487
  	0.277948	0.520014	0.732948
  	0.280284	0.524231	0.734403
  	0.282684	0.528441	0.735853
  	0.285146	0.532646	0.7373
  	0.28767	0.536846	0.738744
  	0.290253	0.54104	0.740187
  	0.292894	0.545231	0.741629
  	0.295592	0.549417	0.74307
  	0.298344	0.553599	0.744513
  	0.30115	0.557777	0.745957
  	0.304009	0.561952	0.747402
  	0.306918	0.566124	0.748851
  	0.309877	0.570293	0.750302
  	0.312885	0.57446	0.751757
  	0.31594	0.578624	0.753216
  	0.319042	0.582785	0.75468
  	0.32219	0.586945	0.756148
  	0.325382	0.591104	0.757621
  	0.328618	0.595261	0.759099
  	0.331898	0.599416	0.760583
  	0.33522	0.603571	0.762072
  	0.338584	0.607724	0.763567
  	0.34199	0.611877	0.765068
  	0.345437	0.616029	0.766575
  	0.348925	0.620181	0.768089
  	0.352454	0.624332	0.769608
  	0.356023	0.628483	0.771134
  	0.359633	0.632634	0.772666
  	0.363284	0.636785	0.774203
  	0.366976	0.640936	0.775747
  	0.370709	0.645086	0.777298
  	0.374483	0.649237	0.778854
  	0.3783	0.653387	0.780415
  	0.382159	0.657538	0.781983
  	0.386061	0.661688	0.783556
  	0.390007	0.665838	0.785134
  	0.393999	0.669988	0.786717
  	0.398036	0.674138	0.788304
  	0.402121	0.678286	0.789896
  	0.406254	0.682434	0.791493
  	0.410437	0.686581	0.793094
  	0.414671	0.690726	0.7947
  	0.418958	0.69487	0.79631
  	0.423301	0.699012	0.797922
  	0.4277	0.703151	0.799537
  	0.432159	0.707288	0.801155
  	0.436679	0.711421	0.802777
  	0.441262	0.715551	0.804403
  	0.445912	0.719676	0.80603
  	0.450631	0.723796	0.807659
  	0.455422	0.72791	0.809291
  	0.460287	0.732017	0.810927
  	0.465231	0.736118	0.812565
  	0.470257	0.74021	0.814206
  	0.475366	0.744293	0.815852
  	0.480563	0.748366	0.817501
  	0.485852	0.752428	0.819155
  	0.491234	0.756478	0.820816
  	0.496715	0.760515	0.822483
  	0.502296	0.764538	0.824159
  	0.50798	0.768545	0.825846
  	0.51377	0.772535	0.827544
  	0.519667	0.776509	0.829258
  	0.525675	0.780464	0.830987
  	0.531791	0.784399	0.832739
  	0.538018	0.788315	0.834512
  	0.544354	0.79221	0.836313
  	0.550798	0.796084	0.838144
  	0.557346	0.799937	0.84001
  	0.563996	0.803769	0.841914
  	0.570744	0.80758	0.84386
  	0.577583	0.811372	0.845852
  	0.584508	0.815144	0.847893
  	0.591512	0.818898	0.849987
  	0.598589	0.822635	0.852137
  	0.605731	0.826357	0.854345
  	0.612931	0.830065	0.856614
  	0.620181	0.833761	0.858944
  	0.627475	0.837446	0.861337
  	0.634805	0.841124	0.863794
  	0.642166	0.844794	0.866315
  	0.649551	0.84846	0.868899
  	0.656956	0.852122	0.871546
  	0.664375	0.855783	0.874255
  	0.671803	0.859444	0.877026
  	0.679238	0.863107	0.879856
  	0.686674	0.866773	0.882745
  	0.694112	0.870443	0.88569
  	0.701546	0.874119	0.888691
  	0.708975	0.877802	0.891744
  	0.716398	0.881492	0.894849
  	0.723813	0.885192	0.898003
  	0.731218	0.888901	0.901205
  	0.738613	0.892621	0.904453
  	0.745997	0.896353	0.907744
  	0.753369	0.900097	0.911077
  	0.760728	0.903855	0.914449
  	0.768075	0.907626	0.917859
  	0.775409	0.911413	0.921305
  	0.78273	0.915214	0.924784
  	0.790036	0.919033	0.928294
  	0.797331	0.922867	0.931832
  	0.804609	0.92672	0.935397
  	0.811876	0.93059	0.938985
  	0.819126	0.93448	0.942595
  	0.826365	0.938389	0.946222
  	0.833586	0.94232	0.949863
  	0.840793	0.946272	0.953515
  	0.847982	0.950247	0.957174
  	0.855151	0.954248	0.960835
  	0.862303	0.958274	0.964492
  	0.86943	0.962328	0.96814
  	0.876528	0.966413	0.971773
  	0.883593	0.970533	0.975384
  	0.890617	0.974691	0.978964
  	0.897592	0.978891	0.982505
  	0.904501	0.98314	0.986001
  	0.91133	0.987445	0.989444
  	0.918059	0.991814	0.992833
];

%-- Modify the colormap by interpolation ---------------------------------%
%   Note: Interpolation can be done in hsv or rgb space depending on opt_interp.
p = size(cm,1); % default size of colormap
if strcmp(opt_interp, 'hsv')
    hsv = rgb2hsv(cm);
    hsv = interp1(1:p, hsv, linspace(1,p,n), 'linear');
    cm = hsv2rgb(hsv);
elseif strcmp(opt_interp, 'none') % do nothing
else
    cm = interp1(1:p, cm, linspace(1,p,n), 'linear');
end

end
