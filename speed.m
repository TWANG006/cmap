
function cm = speed(n, opt_interp)
% Colormap: speed
% Source:   cmocean
% Authors:	Kristen M. Thyng, Chad A. Greene, Robert D. Hetland, Heather M.
%           Zimmerle, and Steven F. DiMarco

%-- Parse inputs ---------------------------------------------------------%
if ~exist('n', 'var'); n = []; end
if isempty(n)
   f = get(groot,'CurrentFigure');
   if isempty(f)
      n = size(get(groot,'DefaultFigureColormap'),1);
   else
      n = size(f.Colormap,1);
   end
end

% by default, interpolate in rgb space
if ~exist('opt_interp','var'); opt_interp = []; end
if isempty(opt_interp); opt_interp = 'rgb'; end
%-------------------------------------------------------------------------%


% data for colormap
cm = [
    0.090533	0.137339	0.073258
    0.091493	0.141050	0.076387
    0.092410	0.144757	0.079475
    0.093282	0.148461	0.082521
    0.094089	0.152165	0.085526
    0.094849	0.155867	0.088490
    0.095558	0.159567	0.091412
    0.096205	0.163269	0.094292
    0.096795	0.166971	0.097130
    0.097332	0.170672	0.099927
    0.097811	0.174375	0.102681
    0.098223	0.178081	0.105391
    0.098577	0.181788	0.108059
    0.098873	0.185496	0.110684
    0.099106	0.189206	0.113264
    0.099269	0.192920	0.115800
    0.099371	0.196636	0.118291
    0.099410	0.200354	0.120736
    0.099385	0.204074	0.123136
    0.099291	0.207798	0.125489
    0.099128	0.211526	0.127794
    0.098899	0.215255	0.130051
    0.098605	0.218987	0.132261
    0.098244	0.222722	0.134421
    0.097815	0.226459	0.136533
    0.097313	0.230200	0.138593
    0.096744	0.233943	0.140602
    0.096107	0.237688	0.142560
    0.095403	0.241435	0.144467
    0.094632	0.245183	0.146321
    0.093793	0.248934	0.148122
    0.092887	0.252686	0.149869
    0.091913	0.256439	0.151563
    0.090872	0.260194	0.153201
    0.089765	0.263949	0.154785
    0.088594	0.267705	0.156313
    0.087360	0.271461	0.157785
    0.086064	0.275217	0.159202
    0.084707	0.278973	0.160561
    0.083291	0.282728	0.161864
    0.081818	0.286483	0.163110
    0.080290	0.290236	0.164298
    0.078709	0.293988	0.165428
    0.077077	0.297738	0.166501
    0.075399	0.301486	0.167515
    0.073677	0.305232	0.168470
    0.071916	0.308975	0.169366
    0.070119	0.312715	0.170203
    0.068292	0.316452	0.170981
    0.066442	0.320185	0.171699
    0.064575	0.323914	0.172357
    0.062699	0.327639	0.172956
    0.060821	0.331359	0.173494
    0.058953	0.335075	0.173972
    0.057105	0.338785	0.174389
    0.055290	0.342489	0.174746
    0.053521	0.346188	0.175042
    0.051814	0.349880	0.175277
    0.050186	0.353565	0.175450
    0.048656	0.357244	0.175562
    0.047245	0.360915	0.175612
    0.045974	0.364578	0.175600
    0.044867	0.368233	0.175527
    0.043947	0.371879	0.175391
    0.043239	0.375517	0.175192
    0.042767	0.379145	0.174931
    0.042554	0.382764	0.174607
    0.042620	0.386372	0.174220
    0.042985	0.389970	0.173769
    0.043663	0.393558	0.173256
    0.044664	0.397133	0.172678
    0.045995	0.400697	0.172037
    0.047658	0.404249	0.171332
    0.049651	0.407788	0.170563
    0.051968	0.411314	0.169730
    0.054600	0.414826	0.168833
    0.057534	0.418325	0.167872
    0.060756	0.421808	0.166847
    0.064252	0.425277	0.165757
    0.068006	0.428731	0.164604
    0.072002	0.432169	0.163386
    0.076224	0.435590	0.162105
    0.080657	0.438995	0.160760
    0.085288	0.442382	0.159351
    0.090103	0.445752	0.157879
    0.095088	0.449104	0.156343
    0.100234	0.452438	0.154745
    0.105528	0.455752	0.153084
    0.110962	0.459048	0.151361
    0.116526	0.462323	0.149577
    0.122211	0.465579	0.147732
    0.128010	0.468814	0.145827
    0.133915	0.472029	0.143863
    0.139920	0.475223	0.141840
    0.146020	0.478395	0.139758
    0.152207	0.481546	0.137620
    0.158477	0.484676	0.135425
    0.164825	0.487783	0.133174
    0.171244	0.490869	0.130870
    0.177732	0.493932	0.128513
    0.184284	0.496973	0.126104
    0.190895	0.499992	0.123644
    0.197562	0.502989	0.121135
    0.204280	0.505964	0.118578
    0.211047	0.508916	0.115974
    0.217857	0.511847	0.113324
    0.224710	0.514755	0.110631
    0.231600	0.517642	0.107896
    0.238525	0.520507	0.105119
    0.245481	0.523351	0.102304
    0.252467	0.526174	0.099451
    0.259479	0.528976	0.096564
    0.266514	0.531758	0.093642
    0.273570	0.534520	0.090689
    0.280644	0.537262	0.087706
    0.287735	0.539985	0.084696
    0.294840	0.542689	0.081661
    0.301957	0.545374	0.078604
    0.309085	0.548042	0.075527
    0.316219	0.550691	0.072435
    0.323360	0.553324	0.069331
    0.330506	0.555940	0.066219
    0.337655	0.558541	0.063103
    0.344806	0.561125	0.059988
    0.351957	0.563695	0.056881
    0.359107	0.566249	0.053788
    0.366254	0.568790	0.050718
    0.373399	0.571317	0.047680
    0.380539	0.573831	0.044686
    0.387673	0.576332	0.041747
    0.394801	0.578822	0.038871
    0.401922	0.581300	0.036166
    0.409034	0.583766	0.033673
    0.416138	0.586222	0.031397
    0.423233	0.588669	0.029344
    0.430318	0.591105	0.027522
    0.437392	0.593533	0.025937
    0.444455	0.595951	0.024595
    0.451506	0.598362	0.023504
    0.458545	0.600765	0.022672
    0.465571	0.603161	0.022106
    0.472584	0.605550	0.021814
    0.479583	0.607934	0.021806
    0.486568	0.610311	0.022089
    0.493538	0.612683	0.022674
    0.500493	0.615051	0.023571
    0.507433	0.617414	0.024790
    0.514357	0.619774	0.026341
    0.521264	0.622130	0.028238
    0.528154	0.624484	0.030491
    0.535027	0.626835	0.033114
    0.541882	0.629185	0.036121
    0.548719	0.631534	0.039525
    0.555537	0.633882	0.043237
    0.562335	0.636229	0.047138
    0.569113	0.638578	0.051219
    0.575870	0.640927	0.055464
    0.582605	0.643278	0.059860
    0.589317	0.645631	0.064393
    0.596007	0.647988	0.069054
    0.602672	0.650347	0.073835
    0.609313	0.652711	0.078728
    0.615927	0.655080	0.083728
    0.622515	0.657454	0.088831
    0.629075	0.659835	0.094032
    0.635605	0.662223	0.099329
    0.642104	0.664619	0.104719
    0.648572	0.667024	0.110201
    0.655006	0.669439	0.115773
    0.661406	0.671864	0.121435
    0.667769	0.674301	0.127187
    0.674094	0.676750	0.133027
    0.680379	0.679213	0.138956
    0.686622	0.681691	0.144974
    0.692822	0.684185	0.151081
    0.698977	0.686695	0.157279
    0.705085	0.689224	0.163567
    0.711142	0.691772	0.169945
    0.717148	0.694341	0.176414
    0.723099	0.696932	0.182974
    0.728994	0.699547	0.189626
    0.734830	0.702186	0.196369
    0.740605	0.704851	0.203204
    0.746317	0.707543	0.210131
    0.751963	0.710264	0.217148
    0.757541	0.713016	0.224255
    0.763048	0.715798	0.231452
    0.768483	0.718614	0.238736
    0.773844	0.721464	0.246107
    0.779129	0.724350	0.253563
    0.784335	0.727272	0.261102
    0.789461	0.730231	0.268720
    0.794507	0.733230	0.276417
    0.799470	0.736268	0.284188
    0.804350	0.739347	0.292032
    0.809147	0.742467	0.299944
    0.813859	0.745629	0.307922
    0.818487	0.748833	0.315962
    0.823030	0.752080	0.324058
    0.827490	0.755371	0.332208
    0.831866	0.758704	0.340408
    0.836159	0.762081	0.348655
    0.840371	0.765500	0.356944
    0.844504	0.768962	0.365272
    0.848557	0.772467	0.373634
    0.852534	0.776014	0.382029
    0.856436	0.779603	0.390451
    0.860265	0.783233	0.398898
    0.864022	0.786903	0.407367
    0.867711	0.790613	0.415854
    0.871333	0.794362	0.424356
    0.874892	0.798149	0.432871
    0.878388	0.801973	0.441397
    0.881825	0.805834	0.449931
    0.885204	0.809731	0.458472
    0.888529	0.813663	0.467016
    0.891802	0.817629	0.475563
    0.895025	0.821627	0.484111
    0.898200	0.825659	0.492659
    0.901329	0.829721	0.501206
    0.904416	0.833815	0.509749
    0.907461	0.837938	0.518289
    0.910468	0.842091	0.526825
    0.913438	0.846271	0.535356
    0.916373	0.850480	0.543881
    0.919275	0.854715	0.552400
    0.922147	0.858976	0.560912
    0.924990	0.863263	0.569415
    0.927807	0.867574	0.577908
    0.930599	0.871909	0.586394
    0.933367	0.876268	0.594871
    0.936114	0.880650	0.603340
    0.938840	0.885055	0.611801
    0.941549	0.889480	0.620254
    0.944240	0.893928	0.628698
    0.946917	0.898395	0.637132
    0.949581	0.902883	0.645556
    0.952233	0.907391	0.653971
    0.954874	0.911917	0.662378
    0.957507	0.916463	0.670777
    0.960132	0.921026	0.679167
    0.962751	0.925608	0.687549
    0.965366	0.930207	0.695921
    0.967978	0.934822	0.704286
    0.970588	0.939454	0.712643
    0.973198	0.944102	0.720992
    0.975809	0.948766	0.729334
    0.978424	0.953445	0.737667
    0.981043	0.958138	0.745993
    0.983667	0.962847	0.754315
    0.986298	0.967569	0.762629
    0.988938	0.972304	0.770936
    0.991590	0.977053	0.779237
    0.994253	0.981814	0.787532
    0.996931	0.986587	0.795820
    0.999625	0.991371	0.804101
   ];


%-- Modify the colormap by interpolation ---------------------------------%
%   Note: Interpolation can be done in hsv or rgb space depending on opt_interp.
p = size(cm,1); % default size of colormap
if strcmp(opt_interp,'hsv')
    hsv = rgb2hsv(cm);
    hsv = interp1(1:p, hsv, linspace(1,p,n), 'linear');
    cm = hsv2rgb(hsv);
else
    cm = interp1(1:p, cm, linspace(1,p,n), 'linear');
end


end
